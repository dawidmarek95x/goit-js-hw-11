function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return o[e]=a,n.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){s[e]=n},n.parcelRequired7c6=a);var l=a("ak5AJ"),t=a("eWCmQ"),i=a("fZKcF");const r=e=>document.querySelector(e),c=r(".search-form"),f=r(".search-form__input"),d=r(".gallery");let _,u,p,m;function g(){(0,l.fetchImages)(f.value,_).then((n=>{!function({hits:n,totalHits:o}){p=o;const s=n.map((({webformatURL:e,largeImageURL:n,tags:o,likes:s,views:a,comments:l,downloads:t})=>`\n  <div class="gallery__item">\n    <a class="gallery__link" href="${n}"><img class="gallery__img" src="${e}" alt="${o}" loading="lazy" /></a>\n    <div class="gallery__info">\n      <p class="info__item">\n        <b class="info__label">Likes</b>\n        <span class="info__data">${s}</span>\n      </p>\n      <p class="info__item">\n        <b class="info__label">Views</b>\n        <span class="info__data">${a}</span>\n      </p>\n      <p class="info__item">\n        <b class="info__label">Comments</b>\n        <span class="info__data">${l}</span>\n      </p>\n      <p class="info__item">\n        <b class="info__label">Downloads</b>\n        <span class="info__data">${t}</span>\n      </p>\n    </div>\n  </div>\n  `)).join("");d.insertAdjacentHTML("beforeend",s),"object"==typeof m&&m.destroy();m=new(e(i))(".gallery__item a"),u+=n.length,0===u?e(t).Notify.failure("Sorry, there are no images matching your search query. Please try again."):u>0&&1===_?e(t).Notify.success(`Hooray! We found ${p} images.`):u>0&&u===p&&e(t).Notify.info("We're sorry, but you've reached the end of search results.");if(_>1){const{height:e}=document.querySelector(".gallery .gallery__item").getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}p===u?window.removeEventListener("scroll",y,{passive:!0}):window.addEventListener("scroll",y,{passive:!0})}(n)})).catch((e=>console.log(e)))}function y(){const{scrollTop:e,scrollHeight:n,clientHeight:o}=document.documentElement;o+e>=n-5&&(_+=1,g())}c.addEventListener("submit",(function(e){e.preventDefault(),_=1,u=0,g(),d.innerHTML=""}));
//# sourceMappingURL=02-infinite-scrolling.db19441d.js.map
